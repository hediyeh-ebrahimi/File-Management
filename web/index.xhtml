<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
    <title></title>
    <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css"/>


</h:head>

<h:body>
    <h:panelGroup>
        <h:form enctype="multipart/form-data" styleClass="form-group"
                style="padding: 1rem;border: 1px solid;margin: 1rem;">
            <h:inputFile value="#{index.imageUploaded}" accept="image/gif, image/jpeg,image/png"></h:inputFile>
            <h:commandButton action="#{index.uploadImage()}"/>
            <br/>
            <h:outputText value="#{index.uploadMessage}"></h:outputText>
        </h:form>

        <h:dataTable value="#{index.images}" var="image"

                     rows="10"
                     paginator="true"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                     currentPageReportTemplate="{startRecord}-{endRecord} of {totalRecords} records"
                     rowsPerPageTemplate="1,5,10,{ShowAll|'All'}">

            <h:column headerClass="col">
                <f:facet name="header">Name</f:facet>
                #{image.originalImageName}
            </h:column>

            <h:column headerClass="col">
                <f:facet name="header">Image</f:facet>
                <h:graphicImage library="images" name="#{image.imageName}" style="width: 50px;height: 50px;"></h:graphicImage>

            </h:column>


            <h:column headerClass="col">
                <f:facet name="header">Volume</f:facet>
                #{image.volume}
            </h:column>

            <h:column headerClass="col">
                <f:facet name="header">Extension</f:facet>
                #{image.extension}
            </h:column>

            <h:column headerClass="col">
                <f:facet name="header">CreateDate</f:facet>
                #{image.createdDate}
            </h:column>

            <h:column headerClass="col">
                <f:facet name="header">Delete</f:facet>
                <h:form>
                    <h:commandLink action="#{index.deleteImage(image)}">
                        <h:button styleClass="btn btn-danger" value="Del"></h:button>
                    </h:commandLink>
                </h:form>

            </h:column>

<!--            <f:facet name="paginatorTopLeft">-->
<!--                <h:commandButton type="button" icon="pi pi-refresh"/>-->
<!--            </f:facet>-->

<!--            <f:facet name="paginatorBottomRight">-->
<!--                <h:commandButton type="button" icon="pi pi-cloud-upload"/>-->
<!--            </f:facet>-->
        </h:dataTable>

    </h:panelGroup>


</h:body>

</html>