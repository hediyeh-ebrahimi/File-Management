<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title></title>
    <h:outputStylesheet library="bootstrap" name="css/bootstrap.min.css"/>


</h:head>

<h:body>
    <h:panelGroup>
        <h:form enctype="multipart/form-data" styleClass="form-group"
                style="padding: 1rem;border: 1px solid;margin: 1rem;">
            <h:inputFile value="#{index.imageUploaded}" accept="image/gif, image/jpeg,image/png"></h:inputFile>
            <h:commandButton action="#{index.uploadImage()}"/>
            <br/>
            <h:outputText value="#{index.uploadMessage}"></h:outputText>
        </h:form>

        <p:dataTable value="#{index.images}" var="image"
                     paginator="true" rows="10"
                     paginatorTemplate="{CurrentPageReport} {FirstPageLink}
             {PreviousPageLink} {PageLinks} {NextPageLink}
             {LastPageLink} {RowsPerPageDropdown}"
                     rowsPerPageTemplate="5,10,15" style="padding: 15px;">
<!--            <p:dataTable id="myDataTable"-->
<!--                         widgetVar="myDataTable"-->
<!--                         var="image"-->
<!--                         value="#{index.images}"-->
<!--                         rows="10"-->
<!--                         lazy="true"-->
<!--                         paginator="true"-->
<!--                         paginatorPosition="bottom"-->
<!--                         filterEvent="enter"-->
<!--            >-->

            <p:column headerClass="col">
                <f:facet name="header">Name</f:facet>
                #{image.originalImageName}
            </p:column>

            <p:column headerClass="col">
                <f:facet name="header">Image</f:facet>
                <p:graphicImage library="images" name="#{image.imageName}" style="widtp: 50px;height: 50px;"></p:graphicImage>

            </p:column>


            <p:column headerClass="col">
                <f:facet name="header">Volume</f:facet>
                #{image.volume}
            </p:column>

            <p:column headerClass="col">
                <f:facet name="header">Extension</f:facet>
                #{image.extension}
            </p:column>

            <p:column headerClass="col">
                <f:facet name="header">CreateDate</f:facet>
                #{image.createdDate}
            </p:column>

            <p:column headerClass="col">
                <f:facet name="header">Delete</f:facet>
                <h:form>
                    <p:commandLink action="#{index.deleteImage(image)}">
                        <p:button styleClass="btn btn-danger" value="Del"></p:button>
                    </p:commandLink>
                </h:form>

            </p:column>

<!--            <f:facet name="paginatorTopLeft">-->
<!--                <p:commandButton type="button" icon="pi pi-refresh"/>-->
<!--            </f:facet>-->

<!--            <f:facet name="paginatorBottomRight">-->
<!--                <p:commandButton type="button" icon="pi pi-cloud-upload"/>-->
<!--            </f:facet>-->
        </p:dataTable>

    </h:panelGroup>


</h:body>

</html>